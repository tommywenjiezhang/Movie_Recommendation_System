(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{27:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a.n(r),s=a(18),i=a.n(s),l=a(3),o=a.n(l),d=a(8),j=a(4),u=(a(26),a(27),function(e){var t=e.favouriteComponent;return Object(n.jsx)(n.Fragment,{children:e.movies.map((function(a,r){return Object(n.jsxs)("div",{className:"image-container d-flex justify-content-start m-3",children:[Object(n.jsx)("img",{src:a.url,alt:"movie"}),Object(n.jsx)("div",{onClick:function(){return e.handleFavouritesClick(a)},className:"overlay d-flex align-items-center justify-content-center",children:Object(n.jsx)(t,{props:a})})]},a.movie_id)}))})}),v=function(e){return Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("h1",{children:e.heading})})},b=function(e){var t=e.props;return console.log(t),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"mr-2",children:t.title}),Object(n.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-heart-fill",fill:"red",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{"fill-rule":"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})})]})},m=function(e){var t=e.props;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("a",{className:"mr-2",href:t.site_url,children:t.title}),Object(n.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-x-square",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{"fill-rule":"evenodd",d:"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),Object(n.jsx)("path",{"fill-rule":"evenodd",d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]})]})};function p(){return Object(n.jsx)("div",{className:"spinner-container",children:Object(n.jsx)("div",{className:"loading-spinner"})})}var h=a(19),f=a.n(h),x=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(n.jsxs)("div",{class:"container-fluid",children:[Object(n.jsx)("a",{class:"navbar-brand",href:"/",children:"Movie recommender app"}),Object(n.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{class:"navbar-toggler-icon"})}),Object(n.jsx)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(n.jsxs)("ul",{class:"navbar-nav mr-auto p2-auto",children:[Object(n.jsx)("li",{class:"nav-item active",children:Object(n.jsxs)("a",{class:"nav-link",href:"/",children:["Home ",Object(n.jsx)("span",{class:"sr-only",children:"(current)"})]})}),Object(n.jsx)("li",{class:"nav-item",children:Object(n.jsx)("a",{class:"nav-link",href:"#",children:"Clean"})})]})})]})})})},O=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),i=Object(j.a)(s,2),l=i[0],h=i[1],O=Object(r.useState)(""),g=Object(j.a)(O,2),w=(g[0],g[1],Object(r.useState)("")),N=Object(j.a)(w,2),S=N[0],C=N[1],k=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api",C("new"),e.next=4,fetch("/api");case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,C(""),c(n.movies);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){k()}),[]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("react-movie-app-favourites"));e&&h(e)}),[]);var y=function(e){localStorage.setItem("react-movie-app-favourites",JSON.stringify(e))},M=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("MOIVE_ID:"+t.movie_id),(a=new FormData).append("movie_id",t.movie_id),C("add"),e.next=6,f()({method:"POST",url:"/api",data:a,headers:{"Content-Type":"multipart/form-data"}});case 6:n=e.sent,r=n.data,console.log(r),C(""),h(r.recommended),y(r.recommended);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e,t,a){return Object(n.jsx)(u,{movies:e,handleFavouritesClick:t,favouriteComponent:a})};return Object(n.jsxs)("div",{className:"container-fluid movie-app",children:[Object(n.jsx)(x,{}),Object(n.jsx)("div",{className:"row d-flex align-items-center mt-4 mb-4",children:Object(n.jsx)(v,{heading:"Select favorite Movie"})}),Object(n.jsx)("div",{className:"row",children:"new"===S?Object(n.jsx)(p,{}):_(a,M,b)}),Object(n.jsx)("div",{className:"row d-flex align-items-center mt-4 mb-4",children:Object(n.jsx)(v,{heading:"Recommended Movies"})}),Object(n.jsx)("div",{className:"row",children:"add"===S?Object(n.jsx)(p,{}):_(l,(function(e){var t=l.filter((function(t){return t.movie_id!==e.movie_id}));window.location.href=e.site_url,h(t),y(t)}),m)})]})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.fdcc0bc9.chunk.js.map